# ~/.zprofile - Loaded by zsh for login shells only
# Runs AFTER .zshenv but BEFORE .zshrc
# Use this for:
#   - Commands that should only run once at login
#   - Setting up the environment for login sessions
#   - PATH modifications for graphical sessions
# Note: Terminal.app on macOS runs login shells by default

# Initialize Homebrew (puts homebrew paths first)
if [ -x "/opt/homebrew/bin/brew" ]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
fi

# fix annoying node-gyp issues
path=("/opt/homebrew/opt/python/libexec/bin" $path)

if which nodenv > /dev/null; then eval "$(nodenv init -)"; fi

path=("/usr/local/sbin" $path)

# pnpm
{{- if eq .chezmoi.os "darwin" }}
export PNPM_HOME="$HOME/Library/pnpm"
path=("$PNPM_HOME" $path)
{{ end -}}
# pnpm end

path=("$HOME/.bun/bin" $path)


if [ -f ${HOME}/.zprofile_`uname | tr 'A-Z' 'a-z'` ]; then . ${HOME}/.zprofile_`uname | tr 'A-Z' 'a-z'`; fi
if [ -f ${HOME}/.zprofile_local ]; then . ${HOME}/.zprofile_local; fi

# Created by `pipx` on 2025-03-18 15:59:10
path+=("$HOME/.local/bin")

# Cargo (Rust)
if [ -f "$HOME/.cargo/env" ]; then
    . "$HOME/.cargo/env"
fi

# Java
if [ -x "/usr/libexec/java_home" ]; then
    if /usr/libexec/java_home &>/dev/null; then
        export JAVA_HOME="$(/usr/libexec/java_home)"
    fi
fi
